<div class="row  border-bottom white-bg page-heading" ng-init="vm.getReservas();">
    <div class="col-xs-4">
        <h2>Historial de Reservas</h2>
        <ol class="breadcrumb">
            <li>
                <a ui-sref="app.home">Dashboard</a>
            </li>
            <li class="active">
                <strong>Historial de reservas</strong>
            </li>
        </ol>
    </div> 
    <div class='col-xs-3'>
         <div class="spacer" style="height:5px;"></div>
               <small>Desde:</small>
        <div class="input-group">
         <span class="input-group-btn"> 
                    <button type="button" class="btn btn-primary"><i class="fa fa-calendar"></i></button> 
                </span>
                <input type="date" id="fechaReserva1" class="form-control" ng-model="vm.fecha1">
        </div>
    </div>
    <div class='col-xs-3'>
         <div class="spacer" style="height:5px;"></div>
         <small>hasta:</small>
        <div class="input-group">
         <span class="input-group-btn"> 
                    <button type="button" class="btn btn-primary"><i class="fa fa-calendar"></i></button> 
                </span>
                <input type="date" id="fechaReserva1" class="form-control" ng-model="vm.fecha2">
        </div>
    </div>
    <div class='col-x2'>
        <div class="spacer" style="height:23px;"></div>
        <button class='btn btn-success' ng-click="vm.getReservas()"><i class='fa fa-search'></i> Consultar</button>
    </div>
    
    <hr class="hr-line-dashed">
                    <div class="row">
                        <div class="col-xs-9">
                             <table class="table table-striped table-hover">
                        <thead>
                        <th></th>
                        <th>Cancha</th>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Cliente</th>
                        <th>Precio</th>
                        <th>Abono Requerido</th>
                        <th>Abono Liquidado</th>
                        <th>Estado</th>
                        </thead>
                        <tbody>
                            <tr ng-repeat='item in vm.reservas'>
                                
                                     <td>{{$index + 1 }}</td>
                    <td>{{item.nombrecancha }}</td>
                    <td>{{item.fecha}}</td>
                    <td>{{item.hora}}:00</td>
                    <td class="small">{{item.nombres}}</td>
                    <td class="text-navy">{{item.precio | currency:undefined:0}}</td>
                    <td>{{item.abonoRequerido | currency:undefined:0}}</td>
                    <td class="text-success" ng-if="item.abonoLiquidado > 0"><i class="fa fa-level-up"></i> {{item.abonoLiquidado | currency:undefined:0}}</td>
                    <td class="text-danger" ng-if="item.abonoLiquidado == 0"><i class="fa fa-level-down"></i> {{item.abonoLiquidado | currency:undefined:0}}</td>
                    <td>
                        <label ng-if="item.estado == 'cumplida'" class="label label-success">Cumplida</label>
                        <label ng-if="item.estado == 'incumplida'" class="label label-warning">Incumplida</label>
                        <label ng-if="item.estado == 'cancelada'" class="label label-danger">Cancelada</label>
                        <label ng-if="item.estado == 'confirmadaconabono'" class="label label-primary">Confirmada con abono</label>
                        <label ng-if="item.estado == 'confirmadasinabono'" class="label label-info">Confirmada sin abono</label>
                    </td>
                            </tr>
                        </tbody>
                    </table>
                        </div>
                        <div class="col-xs-3">
                             <div style='text-align: center;'>
                            <div id="chart_reservas" style='margin-top:-20px;'></div>
                             </div>
                             
                                <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Ingresos</h5>
            </div>
                            <div class="ibox-content"  >
                                <div class="row">
                                <div class="col-xs-6">
                                <h4>{{vm.finanzas.realidad | currency:undefined:0}}</h4>
                                <small class="stats-label">Reservas</small>
                                 </div>
                                <div class="col-xs-6">
                                <h4>{{vm.finanzas.abonos | currency:undefined:0}}</h4>
                                <small class="stats-label">Abonos</small>
                                 </div>
                                </div>
                                <br>
                             <div>
                                <h1 class="no-margins text-success">{{vm.finanzas.abonos + vm.finanzas.realidad | currency:undefined:0}}</h1>
                                <small>Total Ingresos</small>
                             </div>
                            </div>
                    </div>
                    
                        </div>
                    </div>
                   
                    <div class="row" ng-if="vm.reservas.length === 0">
                        <div class="col-lg-12" style="text-align: center;">
                            <div class="bg-vacio"></div>
                            <h2 class="vacio-text">No hay Informaci√≥n es en estas fechas</h2>
                        </div>
                    </div>

            
</div>



